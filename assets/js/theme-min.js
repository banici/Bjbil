"use strict";var selectedCustomerBox,selectedContainer,selectedParent,isMobileView,containerContent,body=document.querySelector("body"),mainSlider=document.querySelector("#main-slider"),imageCarousel=document.querySelectorAll(".img-carousel"),partnersCarousel=document.querySelector("#partners"),testimonialsCarousel=document.querySelector("#testimonials"),topProductsCarousel=document.querySelector("#top-products-carousel"),featuredProductsCarousel=document.querySelector("#featured-products-carousel"),sidebarProductsCarousel=document.querySelector("#sidebar-products-carousel"),hotDealsCarousel=document.querySelector("#hot-deals-carousel"),owlCarouselSelector=document.querySelectorAll(".owl-carousel"),isotopeContainer=document.querySelectorAll(".isotope"),isotopeFiltrable=document.querySelectorAll("#filtrable a"),toTop=document.querySelector("#to-top"),hover=document.querySelectorAll(".thumbnail"),navigation=document.querySelector(".navigation"),superfishMenu=document.querySelector("ul.sf-menu"),priceSliderRange=document.querySelector("#slider-range"),jobbForm=document.querySelector(".ansok-form-container"),mixCarmakeName=!1,mixVideoOrder=!1;function checkScreenSize(){isMobileView=window.innerWidth<=990}checkScreenSize(),window.addEventListener("resize",checkScreenSize),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".video-container video");e.length>0&&e.forEach(function(e){e.load()})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".video-container video"),t=0;e.length>0&&(!1===mixVideoOrder&&(t=Math.floor(Math.random()*e.length),mixVideoOrder=!0),e.forEach(function(o,a){o.addEventListener("ended",function(){e[t].classList.remove("active"),e[t=(t+1)%e.length].classList.add("active"),e[t].play()})}),e[t].classList.add("active"),e[t].play())}),document.addEventListener("DOMContentLoaded",function(){var e=["BMW","MINI","TESLA","VAG"],t=0,o=document.getElementById("last-word");function a(){o&&(o.textContent=e[t],t=(t+1)%e.length)}setInterval(a,3e3),a()});const elementsUnderNavigator=[".content-area",".car-brand-section"];function CustomerServiceDefault(e="customer-contact-box"){var t=document.getElementsByClassName("customer-contact-box"),o=document.getElementsByClassName("contact-container"),a=t[0].classList[1];if("customer-contact-box"!==e&&"active"===a||"active"===a){t[0].classList.remove("active"),o[0].classList.remove("active");return}}function forceContentIntoDivForMobileView(e){if(isMobileView){let t=containerContent.children[0].className;if(e.classList.contains("active")){let o=e.children[1];o&&e.removeChild(o),selectedCustomerBox.remove("active"),e.classList.remove("active")}else{e.classList.add("active");let a=document.createElement("div");a.innerHTML=containerContent.innerHTML,a.children[0].classList.remove(t),a.children[0].classList.add("customer-mobile-info"),a.children[0].style.padding="25px",a.children[0].style.fontSize="17px",e.appendChild(a)}}}document.addEventListener("DOMContentLoaded",function(){window.onscroll=function(){(function t(){if(window.innerWidth>900){let l=document.getElementsByClassName("navigation-wrapper")[0];document.body.scrollTop>214||document.documentElement.scrollTop>214?(l.style.position="fixed",l.style.boxShadow="0px 7px 10px rgba(0, 0, 0, 0.48)",o.style.paddingTop="101px"):(l.style.position="relative",l.style.boxShadow="none",o.style.paddingTop="0")}else(document.body.scrollTop>50||document.documentElement.scrollTop>50)&&"closed"===a.id?(e.style.position="fixed",e.style.zIndex="10",e.style.top="0",e.style.width="100%",e.style.boxShadow="0px 7px 10px rgba(0, 0, 0, 0.48)",o.style.paddingTop="101px"):(document.body.scrollTop>165||document.documentElement.scrollTop>165)&&"open"===a.id?(e.style.position="fixed",e.style.zIndex="10",e.style.top="0",e.style.width="100%",e.style.boxShadow="0px 7px 10px rgba(0, 0, 0, 0.48)",o.style.paddingTop="103px"):(e.style.position="static",o.style.paddingTop="0")})()};let e=document.getElementsByClassName("header")[0],t=elementsUnderNavigator.find(e=>document.querySelector(e)),o=document.querySelector(t),a=document.querySelector(".top-bar-container-mobile")}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".extend-top-bar").forEach(function(e){e.addEventListener("click",function(){var e=document.querySelectorAll(".top-bar"),t=this.querySelector(".top-bar-container-mobile"),o=this.querySelectorAll(".chevron-box i");"open"===t.id?(t.id="closed",o[0].classList.remove("fa-chevron-up"),o[0].classList.add("fa-chevron-down"),e[0].style.height="50px"):(t.id="open",o[0].classList.remove("fa-chevron-down"),o[0].classList.add("fa-chevron-up"),e[0].style.height="165px",t.style.paddingBottom="10px")})})}),document.addEventListener("click",function(e){let t=["customer-chevron","fa"],o=e.target.classList;if(["warranty-box","faq-box","customer-contact-box"].includes(o[0])||t.includes(o[0])){switch(CustomerServiceDefault(o[0]),selectedCustomerBox&&o[0]!==selectedCustomerBox[0]&&(selectedCustomerBox.remove("active"),selectedContainer&&selectedContainer.remove("active")),t.includes(o[0])&&(o=e.target.parentElement.classList),o.add("active"),selectedCustomerBox=o,selectedParent=e.target.parentElement,o[0]){case"customer-contact-box":containerContent=document.getElementsByClassName("contact-container")[0],(selectedContainer=document.getElementsByClassName("contact-container")[0].classList).add("active");break;case"warranty-box":containerContent=document.getElementsByClassName("warranty-container")[0],(selectedContainer=document.getElementsByClassName("warranty-container")[0].classList).add("active");break;case"faq-box":containerContent=document.getElementsByClassName("faq-container")[0],(selectedContainer=document.getElementsByClassName("faq-container")[0].classList).add("active");break;case"form-box":containerContent=document.getElementsByClassName("form-container")[0],(selectedContainer=document.getElementsByClassName("form-container")[0].classList).add("active");break;default:console.error("no target was found!")}forceContentIntoDivForMobileView(e.target.parentElement)}}),document.addEventListener("DOMContentLoaded",function(){document.getElementsByClassName("customer-contact-box").length>0&&isMobileView&&CustomerServiceDefault()}),document.addEventListener("click",function(e){"nostalgi"===e.target.id?window.location.href="nostalgi-page.html":"historia"===e.target.id?window.location.href="tidslinje.html":"arbetarna"===e.target.id&&(window.location.href="om_oss.html")}),document.querySelectorAll(".faq-row").forEach(function(e){e.addEventListener("click",function(e){var t=this.closest(".faq-expandable").querySelector(".faq-info-content");this.querySelector(".faq-operator i").classList.toggle("fa-minus"),t.classList.toggle("expanded"),t.classList.contains("expanded")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight="0"})}),isMobileView&&document.addEventListener("click",function(e){let t=e.target.classList[0];if("faq-row"===t||["faq-info-title","faq-operator"].includes(t)){var o=e.target.closest(".faq-expandable"),a=o.querySelector(".faq-info-content");a.classList.toggle("expanded"),a.classList.contains("expanded")?a.style.maxHeight=a.scrollHeight+"px":a.style.maxHeight="0",o.querySelector(".faq-operator i").classList.toggle("fa-minus")}});const emailInput=document.getElementById("mail-input"),submitButton=document.getElementById("subscribe-btn");function validateEmail(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)&&".co"!==e.slice(-3)}emailInput&&(emailInput.addEventListener("input",function(){let e=this.value;submitButton.disabled=!validateEmail(e)}),submitButton.addEventListener("click",function(){emailInput.value="",submitButton.disabled=!0}));const galleryContainer=document.getElementById("gallery-container"),loadMoreButton=document.getElementById("load-more"),lightboxOverlay=document.getElementById("lightbox-overlay"),lightboxImage=document.getElementById("lightbox-image"),closeLightboxButton=document.getElementById("close-lightbox");let currentIndex=1;const imagesPerPage=isMobileView?9:12,totalImages=71;function displayImages(){let e=Math.min(currentIndex+imagesPerPage,71);for(let t=currentIndex;t<e;t++){let o=document.createElement("div");o.classList.add("gallery-item"),o.style.backgroundImage=`url(assets/img/preview/nostalgi/${t}.jpg)`,o.addEventListener("click",()=>openLightbox(t)),galleryContainer&&galleryContainer.appendChild(o)}(currentIndex+=imagesPerPage)>=71?(currentIndex=1,loadMoreButton&&(loadMoreButton.style.display="none")):loadMoreButton&&(loadMoreButton.style.display="block")}function openLightbox(e){lightboxImage.src=`assets/img/preview/nostalgi/${e}.jpg`,lightboxOverlay.style.display="flex",lightboxOverlay.style.overflowY="hidden",body.style.overflowY="hidden"}closeLightboxButton&&(closeLightboxButton.addEventListener("click",()=>{lightboxOverlay.style.display="none",body.style.overflowY=""}),isMobileView&&lightboxOverlay.addEventListener("click",()=>{lightboxOverlay.style.display="none",body.style.overflowY=""})),loadMoreButton&&loadMoreButton.addEventListener("click",displayImages),displayImages();let isAnimating=!1;function checkBoxes(){let e=document.querySelector(".timeline-container");if(!e)return;let t=window.innerHeight/5.8*3;for(let o=1;o<=8;o++){if(!document.querySelector(`.box-${o}`)){let a=document.createElement("div"),l=document.createElement("div");a.classList.add("timeline-box",`box-${o}`),l.classList.add("timeline-box-content");let n=document.createElement("div");n.classList.add("first-column");let s=document.createElement("div");s.classList.add("middle-column");let i=document.createElement("div");i.classList.add("middle-column-content");let r=document.createElement("p");r.classList.add("middle-column-year");let c=document.createElement("div");c.classList.add("last-column"),r.textContent="202"+o,i.appendChild(r),s.appendChild(i),l.appendChild(n),l.appendChild(s),l.appendChild(c),isMobileView?(o%2!=0&&(c.style.opacity=1),n.style.opacity=0):o%2!=0?n.style.opacity=0:c.style.opacity=0,a.appendChild(l),e.appendChild(a)}let d=document.querySelector(`.box-${o}`),m=d.getBoundingClientRect().top;m<t&&(d.classList.add("show"),d.querySelector(".middle-column").classList.add("animate"),d.querySelector(".middle-column").classList.add("delay"))}}if(loadMoreButton&&loadMoreButton.addEventListener("click",function(){isAnimating||(isAnimating=!0,this.classList.toggle("reverse"),setTimeout(()=>{isAnimating=!1},2e3))}),window.addEventListener("scroll",checkBoxes),jobbForm){let e=document.querySelector("#ansok-btn"),t=jobbForm.querySelector(".close-ansok"),o=document.querySelector(".ansok-form-wrapper");e.addEventListener("click",function(){jobbForm.classList.add("show-form"),o.style.zIndex="99";let e=jobbForm.querySelector(".ansok-form");e&&(e.classList.add("show"),e.classList.add("popup-form"))}),t.addEventListener("click",function(){o.style.zIndex="-1",jobbForm.classList.remove("show-form");let e=jobbForm.querySelector(".ansok-form");e&&(e.classList.remove("show"),e.classList.remove("popup-form"))})}!isMobileView&&document.querySelector(".car-brand-container")&&document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".car-image"),t=document.querySelectorAll(".info-box"),o=document.querySelector(".car-brand-container"),a=document.querySelectorAll(".read-more");e.forEach(l=>{l.addEventListener("mouseenter",()=>{let o=l.getAttribute("data-info"),n=document.getElementById(o);e.forEach(e=>e.classList.remove("slide-down","darken")),t.forEach(e=>e.classList.remove("visible","partial","active")),a.forEach(e=>e.classList.remove("active")),l.classList.add("slide-down"),n.classList.add("visible","partial")}),l.addEventListener("mouseleave",()=>{let e=l.getAttribute("data-info"),t=document.getElementById(e);o.matches(":hover")||(l.classList.remove("slide-down"),t.classList.remove("visible","partial"))}),l.addEventListener("click",()=>{let e=l.getAttribute("data-info"),o=document.getElementById(e),a=o.querySelector(".read-more");t.forEach(e=>e.classList.remove("active","partial","visible")),o.classList.add("active"),o.classList.remove("partial"),a.classList.add("active")})}),o.addEventListener("mouseleave",()=>{e.forEach(e=>e.classList.remove("slide-down","darken")),t.forEach(e=>{e.classList.contains("active")||e.classList.remove("visible","partial")})})}),isMobileView&&document.querySelector(".car-brand-container")&&document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".car-brand-container"),t=Array.from(document.querySelectorAll(".car-image")),o=0,a=0,l=0,n=()=>{t.forEach((e,a)=>{e.classList.remove("active","previous","next","hidden");let l=e.getAttribute("data-info"),n=document.getElementById(l),s=n.querySelector(".read-more");s.classList.add("active"),a===o?(e.classList.add("active"),n.classList.add("active")):a===(o-1+t.length)%t.length?(e.classList.add("previous"),n.classList.remove("active")):a===(o+1)%t.length?(e.classList.add("next"),n.classList.remove("active")):(e.classList.add("hidden"),n.classList.remove("active"))})};e.addEventListener("touchstart",e=>{l=a=e.touches[0].clientX}),e.addEventListener("touchmove",e=>{l=e.touches[0].clientX}),e.addEventListener("touchend",()=>{let e=l-a;e<-50?o=(o+1)%t.length:e>50&&(o=(o-1+t.length)%t.length),n()}),n()});